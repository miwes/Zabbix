zabbix_export:
  version: '6.0'
  date: '2022-05-27T10:34:36Z'
  groups:
    -
      uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
  templates:
    -
      uuid: 5470275eda6e4decb26466d71f9aeb06
      template: 'Template AC Veeam'
      name: 'Template AC Veeam'
      description: 'Version 1.0'
      groups:
        -
          name: Templates/Applications
      discovery_rules:
        -
          uuid: 6f4b3a8df316450aa14b6e42e1a99efb
          name: 'Discovery Veeam Jobs'
          key: veeam.jobsDiscovery
          delay: 1h
          lifetime: 7d
          item_prototypes:
            -
              uuid: 51d3fafc84b940e4a226086508a6cb28
              name: 'Last run {#BACKUPJOBNAME}'
              key: 'veeam.jobStatus[{#BACKUPJOBNAME},"LastRun"]'
              delay: 1h
              history: 30d
              trends: '0'
              value_type: TEXT
              description: '{#BACKUPJOBDESCRIPTION}'
              valuemap:
                name: 'Veeam Job status'
              tags:
                -
                  tag: Application
                  value: Veeam
            -
              uuid: 349ab5adfa014fba87c1fc0ee4cc389d
              name: 'Status {#BACKUPJOBNAME}'
              key: 'veeam.jobStatus[{#BACKUPJOBNAME},"Status"]'
              delay: 1h
              history: 30d
              description: '{#BACKUPJOBDESCRIPTION}'
              valuemap:
                name: 'Veeam Job status'
              preprocessing:
                -
                  type: STR_REPLACE
                  parameters:
                    - Success
                    - '1'
                -
                  type: STR_REPLACE
                  parameters:
                    - Warning
                    - '2'
                -
                  type: STR_REPLACE
                  parameters:
                    - Failed
                    - '3'
                -
                  type: STR_REPLACE
                  parameters:
                    - 'Not readable'
                    - '0'
                -
                  type: STR_REPLACE
                  parameters:
                    - Running
                    - '4'
              tags:
                -
                  tag: Application
                  value: Veeam
              trigger_prototypes:
                -
                  uuid: cf6a129f6795476b8eddb57458f261e3
                  expression: 'last(/Template AC Veeam/veeam.jobStatus[{#BACKUPJOBNAME},"Status"])=3'
                  name: 'Failed state backup job - {#BACKUPJOBNAME}'
                  priority: AVERAGE
                  manual_close: 'YES'
                -
                  uuid: 6e34aa30c8dc4a81b666ee51db99d7f0
                  expression: 'last(/Template AC Veeam/veeam.jobStatus[{#BACKUPJOBNAME},"Status"])=2'
                  name: 'Warning state backup job - {#BACKUPJOBNAME}'
                  priority: WARNING
                  manual_close: 'YES'
      valuemaps:
        -
          uuid: 2d68a7d94968478a9739f788b9a8c516
          name: 'Veeam Job status'
          mappings:
            -
              value: '1'
              newvalue: Success
            -
              value: '2'
              newvalue: Warning
            -
              value: '3'
              newvalue: Failed
            -
              value: '0'
              newvalue: 'Not readable'
